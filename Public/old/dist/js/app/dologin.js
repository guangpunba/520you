define(["jquery","layer","cookie","base64"],function(e,i){i.config({path:jsUrl+"/libs/layer/"}),e("#submit_login").on("click",function(t){t.preventDefault();var n=e.trim(e("#username").val()),o=e.trim(e("#password").val()),r=e.trim(e("#verify").val()),l={username:n,psw:o,code:r};return""==n?void i.alert("请填写用户名",{icon:2,btn:!1,title:!1}):""==o?void i.alert("请填写密码",{icon:1,btn:!1,title:!1}):""==r?void i.alert("请填写验证码",{icon:1,btn:!1,title:!1}):void e.post(_APP+"/Login/dologin",l,function(t){if(1==t.status){if(e("#remember-me").is(":checked")){var r=new Base64;e.cookie("username",n,{path:"/",expires:7}),e.cookie("psw",r.encode(o),{path:"/",expires:7})}else e.cookie("username",null,{path:"/"}),e.cookie("psw",null,{path:"/"});setTimeout(function(){location.href=_APP+"/Index/index"},100)}else 2==t.status?(i.alert(t.info,{icon:2,btn:!1,title:!1}),e("#code").trigger("click")):i.alert(t.info,{icon:2,btn:!1,title:!1})})}),e(document).on("keyup",function(i){13==i.keyCode&&e("#submit_login").trigger("click")})});