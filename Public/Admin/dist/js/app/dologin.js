define(["layer","cookie","base64"],function(e){e.config({path:jsUrl+"/libs/layer/"}),$("#submit_login").on("click",function(t){t.preventDefault();var i=$.trim($("#username").val()),n=$.trim($("#password").val()),o={username:i,psw:n},a=$("#drag"),r=a.find(".handler").attr("data-check");return"ok"!=r?void e.alert("请滑动验证码进行验证",{icon:2,btn:!1,title:!1}):""==i?void e.alert("请填写用户名",{icon:2,btn:!1,title:!1}):""==n?void e.alert("请填写密码",{icon:1,btn:!1,title:!1}):void $.post(_APP+"/Login/dologin",o,function(t){if(1==t.status){if($("#remember-me").is(":checked")){var o=new Base64;$.cookie("username",i,{path:"/",expires:7}),$.cookie("psw",o.encode(n),{path:"/",expires:7})}else $.cookie("username",null,{path:"/"}),$.cookie("psw",null,{path:"/"});setTimeout(function(){location.href=_APP+"/Index/index"},100)}else 2==t.status?(e.alert(t.info,{icon:2,btn:!1,title:!1}),$("#drag").drag({reset:!0})):e.alert(t.info,{icon:2,btn:!1,title:!1})})}),$(document).on("keyup",function(e){13==e.keyCode&&$("#submit_login").trigger("click")})});