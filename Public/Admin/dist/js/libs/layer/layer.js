/*! layer-v2.0 弹层组件 License LGPL  http://layer.layui.com/ By 贤心 */

!function(e,t){var n,r,i={getPath:function(){var e=document.scripts,t=e[e.length-1],n=t.src;if(!t.getAttribute("merge"))return n.substring(0,n.lastIndexOf("/")+1)}(),enter:function(e){13===e.keyCode&&e.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},s={v:"2.0",ie6:!!e.ActiveXObject&&!e.XMLHttpRequest,index:0,path:i.getPath,config:function(e,t){var r=0;return e=e||{},s.cache=i.config=n.extend(i.config,e),s.path=i.config.path||s.path,"string"==typeof e.extend&&(e.extend=[e.extend]),s.use("skin/layer.css",e.extend&&e.extend.length>0?function o(){var n=e.extend;s.use(n[n[r]?r:r-1],r<n.length?function(){return++r,o}():t)}():t),this},use:function(e,t,r){var i=n("head")[0],e=e.replace(/\s/g,""),o=/\.css$/.test(e),u=document.createElement(o?"link":"script"),a="layui_layer_"+e.replace(/\.|\//g,"");return s.path?(o&&(u.rel="stylesheet"),u[o?"href":"src"]=/^http:\/\//.test(e)?e:s.path+e,u.id=a,n("#"+a)[0]||i.appendChild(u),function l(){(o?1989===parseInt(n("#"+a).css("width")):s[r||a])?function(){t&&t();try{o||i.removeChild(u)}catch(e){}}():setTimeout(l,100)}(),this):void 0},ready:function(e,t){var r="function"==typeof e;return r&&(t=e),s.config(n.extend(i.config,function(){return r?{}:{path:e}}()),t),this},alert:function(e,t,r){var i="function"==typeof t;return i&&(r=t),s.open(n.extend({content:e,yes:r},i?{}:t))},confirm:function(e,t,r,o){var u="function"==typeof t;return u&&(o=r,r=t),s.open(n.extend({content:e,btn:i.btn,yes:r,cancel:o},u?{}:t))},msg:function(e,r,o){var a="function"==typeof r,l=i.config.skin,p=(l?l+" "+l+"-msg":"")||"layui-layer-msg",d=u.anim.length-1;return a&&(o=r),s.open(n.extend({content:e,time:3e3,shade:!1,skin:p,title:!1,closeBtn:!1,btn:!1,end:o},a&&!i.config.skin?{skin:p+" layui-layer-hui",shift:d}:function(){return r=r||{},(-1===r.icon||r.icon===t&&!i.config.skin)&&(r.skin=p+" "+(r.skin||"layui-layer-hui")),r}()))},load:function(e,t){return s.open(n.extend({type:3,icon:e||0,shade:.01},t))},tips:function(e,t,r){return s.open(n.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,maxWidth:210},r))}},o=function(e){var t=this;t.index=++s.index,t.config=n.extend({},t.config,i.config,e),t.creat()};o.pt=o.prototype;var u=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];u.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],o.pt.config={type:0,shade:.3,fix:!0,move:u[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},o.pt.vessel=function(e,t){var n=this,r=n.index,s=n.config,o=s.zIndex+r,a="object"==typeof s.title,f=s.maxmin&&(1===s.type||2===s.type),l=s.title?'<div class="layui-layer-title" style="'+(a?s.title[1]:"")+'">'+(a?s.title[0]:s.title)+"</div>":"";return s.zIndex=o,t([s.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+r+'" times="'+r+'" style="'+("z-index:"+(o-1)+"; background-color:"+(s.shade[1]||"#000")+"; opacity:"+(s.shade[0]||s.shade)+"; filter:alpha(opacity="+(100*s.shade[0]||100*s.shade)+");")+'"></div>':"",'<div class="'+u[0]+" "+(u.anim[s.shift]||"")+(" layui-layer-"+i.type[s.type])+(0!=s.type&&2!=s.type||s.shade?"":" layui-layer-border")+" "+(s.skin||"")+'" id="'+u[0]+r+'" type="'+i.type[s.type]+'" times="'+r+'" showtime="'+s.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+o+"; width:"+s.area[0]+";height:"+s.area[1]+(s.fix?"":";position:absolute;")+'">'+(e&&2!=s.type?"":l)+'<div class="layui-layer-content'+(0==s.type&&-1!==s.icon?" layui-layer-padding":"")+(3==s.type?" layui-layer-loading"+s.icon:"")+'">'+(0==s.type&&-1!==s.icon?'<i class="layui-layer-ico layui-layer-ico'+s.icon+'"></i>':"")+(1==s.type&&e?"":s.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=f?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return s.closeBtn&&(e+='<a class="layui-layer-ico '+u[7]+" "+u[7]+(s.title?s.closeBtn:4==s.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(s.btn?function(){var e="";"string"==typeof s.btn&&(s.btn=[s.btn]);for(var t=0,n=s.btn.length;n>t;t++)e+='<a class="'+u[6]+t+'">'+s.btn[t]+"</a>";return'<div class="'+u[6]+'">'+e+"</div>"}():"")+"</div>"],l),n},o.pt.creat=function(){var e=this,t=e.config,o=e.index,a=t.content,l="object"==typeof a;switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.type){case 0:t.btn="btn"in t?t.btn:i.btn[0],s.closeAll("dialog");break;case 2:var a=t.content=l?t.content:[t.content||"http://sentsin.com?from=layer","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+u[4]+o+'" name="'+u[4]+o+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:t.title=!1,t.closeBtn=!1,-1===t.icon&&0===t.icon,s.closeAll("loading");break;case 4:l||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',t.title=!1,t.shade=!1,t.fix=!1,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||s.closeAll("tips")}e.vessel(l,function(r,i){n("body").append(r[0]),l?function(){2==t.type||4==t.type?function(){n("body").append(r[1])}():function(){a.parents("."+u[0])[0]||(a.show().addClass("layui-layer-wrap").wrap(r[1]),n("#"+u[0]+o).find("."+u[5]).before(i))}()}():n("body").append(r[1]),e.layero=n("#"+u[0]+o),t.scrollbar||u.html.css("overflow","hidden").attr("layer-full",o)}).auto(o),2==t.type&&s.ie6&&e.layero.find("iframe").attr("src",a[0]),n(document).off("keydown",i.enter).on("keydown",i.enter),4==t.type?e.tips():e.offset(),t.fix&&r.on("resize",function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(o),4==t.type&&e.tips()}),t.time<=0||setTimeout(function(){s.close(e.index)},t.time),e.move().callback()},o.pt.auto=function(e){function t(e){e=o.find(e),e.height(a[1]-f-l-2*(0|parseFloat(e.css("padding"))))}var i=this,s=i.config,o=n("#"+u[0]+e);""===s.area[0]&&s.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&s.btn&&o.width(o.innerWidth()),o.outerWidth()>s.maxWidth&&o.width(s.maxWidth));var a=[o.innerWidth(),o.innerHeight()],f=o.find(u[1]).outerHeight()||0,l=o.find("."+u[6]).outerHeight()||0;switch(s.type){case 2:t("iframe");break;default:""===s.area[1]?s.fix&&a[1]>=r.height()&&(a[1]=r.height(),t("."+u[5])):t("."+u[5])}return i},o.pt.offset=function(){var e=this,t=e.config,n=e.layero,i=[n.outerWidth(),n.outerHeight()],s="object"==typeof t.offset;e.offsetTop=(r.height()-i[1])/2,e.offsetLeft=(r.width()-i[0])/2,s?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&(e.offsetTop=t.offset,"rb"===t.offset&&(e.offsetTop=r.height()-i[1],e.offsetLeft=r.width()-i[0])),t.fix||(e.offsetTop=/%$/.test(e.offsetTop)?r.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?r.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=r.scrollTop(),e.offsetLeft+=r.scrollLeft()),n.css({top:e.offsetTop,left:e.offsetLeft})},o.pt.tips=function(){var e=this,t=e.config,i=e.layero,s=[i.outerWidth(),i.outerHeight()],o=n(t.follow);o[0]||(o=n("body"));var a={width:o.outerWidth(),height:o.outerHeight(),top:o.offset().top,left:o.offset().left},f=i.find(".layui-layer-TipsG"),l=t.tips[0];t.tips[1]||f.remove(),a.autoLeft=function(){a.left+s[0]-r.width()>0?(a.tipLeft=a.left+a.width-s[0],f.css({right:12,left:"auto"})):a.tipLeft=a.left},a.where=[function(){a.autoLeft(),a.tipTop=a.top-s[1]-10,f.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){a.tipLeft=a.left+a.width+10,a.tipTop=a.top,f.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){a.autoLeft(),a.tipTop=a.top+a.height+10,f.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){a.tipLeft=a.left-s[0]-10,a.tipTop=a.top,f.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],a.where[l-1](),1===l?a.top-(r.scrollTop()+s[1]+16)<0&&a.where[2]():2===l?r.width()-(a.left+a.width+s[0]+16)>0||a.where[3]():3===l?a.top-r.scrollTop()+a.height+s[1]+16-r.height()>0&&a.where[0]():4===l&&s[0]+16-a.left>0&&a.where[1](),i.find("."+u[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),i.css({left:a.tipLeft,top:a.tipTop})},o.pt.move=function(){var e=this,t=e.config,i={setY:0,moveLayer:function(){var e=i.layero,t=parseInt(e.css("margin-left")),n=parseInt(i.move.css("left"));0===t||(n-=t),"fixed"!==e.css("position")&&(n-=e.parent().offset().left,i.setY=0),e.css({left:n,top:parseInt(i.move.css("top"))-i.setY})}},s=e.layero.find(t.move);return t.move&&s.attr("move","ok"),s.css({cursor:t.move?"move":"auto"}),n(t.move).on("mousedown",function(e){if(e.preventDefault(),"ok"===n(this).attr("move")){i.ismove=!0,i.layero=n(this).parents("."+u[0]);var s=i.layero.offset().left,o=i.layero.offset().top,a=i.layero.outerWidth()-6,f=i.layero.outerHeight()-6;n("#layui-layer-moves")[0]||n("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+s+"px; top:"+o+"px; width:"+a+"px; height:"+f+'px; z-index:2147483584"></div>'),i.move=n("#layui-layer-moves"),t.moveType&&i.move.css({visibility:"hidden"}),i.moveX=e.pageX-i.move.position().left,i.moveY=e.pageY-i.move.position().top,"fixed"!==i.layero.css("position")||(i.setY=r.scrollTop())}}),n(document).mousemove(function(e){if(i.ismove){var n=e.pageX-i.moveX,s=e.pageY-i.moveY;if(e.preventDefault(),!t.moveOut){i.setY=r.scrollTop();var o=r.width()-i.move.outerWidth(),u=i.setY;0>n&&(n=0),n>o&&(n=o),u>s&&(s=u),s>r.height()-i.move.outerHeight()+i.setY&&(s=r.height()-i.move.outerHeight()+i.setY)}i.move.css({left:n,top:s}),t.moveType&&i.moveLayer(),n=s=o=u=null}}).mouseup(function(){try{i.ismove&&(i.moveLayer(),i.move.remove(),t.moveEnd&&t.moveEnd()),i.ismove=!1}catch(e){i.ismove=!1}}),e},o.pt.callback=function(){function e(){var e=o.cancel&&o.cancel(t.index);e===!1||s.close(t.index)}var t=this,r=t.layero,o=t.config;t.openLayer(),o.success&&(2==o.type?r.find("iframe")[0].onload=function(){this.className="",o.success(r,t.index)}:o.success(r,t.index)),s.ie6&&t.IE6(r),r.find("."+u[6]).children("a").on("click",function(){var i=n(this).index();o["btn"+(i+1)]&&o["btn"+(i+1)](t.index,r),0===i?o.yes?o.yes(t.index,r):s.close(t.index):1===i?e():o["btn"+(i+1)]||s.close(t.index)}),r.find("."+u[7]).on("click",e),o.shadeClose&&n("#layui-layer-shade"+t.index).on("click",function(){s.close(t.index)}),r.find(".layui-layer-min").on("click",function(){s.min(t.index,o),o.min&&o.min(r)}),r.find(".layui-layer-max").on("click",function(){n(this).hasClass("layui-layer-maxmin")?(s.restore(t.index),o.restore&&o.restore(r)):(s.full(t.index,o),o.full&&o.full(r))}),o.end&&(i.end[t.index]=o.end)},i.reselect=function(){n.each(n("select"),function(e,t){var r=n(this);r.parents("."+u[0])[0]||1==r.attr("layer")&&n("."+u[0]).length<1&&r.removeAttr("layer").show(),r=null})},o.pt.IE6=function(e){function t(){e.css({top:s+(i.config.fix?r.scrollTop():0)})}var i=this,s=e.offset().top;t(),r.scroll(t),n("select").each(function(e,t){var r=n(this);r.parents("."+u[0])[0]||"none"===r.css("display")||r.attr({layer:"1"}).hide(),r=null})},o.pt.openLayer=function(){var e=this;s.zIndex=e.config.zIndex,s.setTop=function(e){var t=function(){s.zIndex++,e.css("z-index",s.zIndex+1)};return s.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),s.zIndex}},i.record=function(e){var t=[e.outerWidth(),e.outerHeight(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},i.rescollbar=function(e){u.html.attr("layer-full")==e&&(u.html[0].style.removeProperty?u.html[0].style.removeProperty("overflow"):u.html[0].style.removeAttribute("overflow"),u.html.removeAttr("layer-full"))},s.getChildFrame=function(e,t){return t=t||n("."+u[4]).attr("times"),n("#"+u[0]+t).find("iframe").contents().find(e)},s.getFrameIndex=function(e){return n("#"+e).parents("."+u[4]).attr("times")},s.iframeAuto=function(e){if(e){var t=s.getChildFrame("body",e).outerHeight(),r=n("#"+u[0]+e),i=r.find(u[1]).outerHeight()||0,o=r.find("."+u[6]).outerHeight()||0;r.css({height:t+i+o}),r.find("iframe").css({height:t})}},s.iframeSrc=function(e,t){n("#"+u[0]+e).find("iframe").attr("src",t)},s.style=function(e,t){var r=n("#"+u[0]+e),s=r.attr("type"),o=r.find(u[1]).outerHeight()||0,a=r.find("."+u[6]).outerHeight()||0;(s===i.type[1]||s===i.type[2])&&(r.css(t),s===i.type[2]&&r.find("iframe").css({height:parseFloat(t.height)-o-a}))},s.min=function(e,t){var r=n("#"+u[0]+e),o=r.find(u[1]).outerHeight()||0;i.record(r),s.style(e,{width:180,height:o,overflow:"hidden"}),r.find(".layui-layer-min").hide(),"page"===r.attr("type")&&r.find(u[4]).hide(),i.rescollbar(e)},s.restore=function(e){var t=n("#"+u[0]+e),r=t.attr("area").split(",");t.attr("type"),s.style(e,{width:parseFloat(r[0]),height:parseFloat(r[1]),top:parseFloat(r[2]),left:parseFloat(r[3]),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(u[4]).show(),i.rescollbar(e)},s.full=function(e){var t,o=n("#"+u[0]+e);i.record(o),u.html.attr("layer-full")||u.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout(function(){var t="fixed"===o.css("position");s.style(e,{top:t?0:r.scrollTop(),left:t?0:r.scrollLeft(),width:r.width(),height:r.height()}),o.find(".layui-layer-min").hide()},100)},s.title=function(e,t){var r=n("#"+u[0]+(t||s.index)).find(u[1]);r.html(e)},s.close=function(e){var t=n("#"+u[0]+e),r=t.attr("type");if(t[0]){if(r===i.type[1]&&"object"===t.attr("conType")){t.children(":not(."+u[5]+")").remove();for(var o=0;2>o;o++)t.find(".layui-layer-wrap").unwrap().hide()}else{if(r===i.type[2])try{var a=n("#"+u[4]+e)[0];a.contentWindow.document.write(""),a.contentWindow.close(),t.find("."+u[5])[0].removeChild(a)}catch(l){}t[0].innerHTML="",t.remove()}n("#layui-layer-moves, #layui-layer-shade"+e).remove(),s.ie6&&i.reselect(),i.rescollbar(e),n(document).off("keydown",i.enter),"function"==typeof i.end[e]&&i.end[e](),delete i.end[e]}},s.closeAll=function(e){n.each(n("."+u[0]),function(){var t=n(this),r=e?t.attr("type")===e:1;r&&s.close(t.attr("times")),r=null})},i.run=function(){n=jQuery,r=n(e),u.html=n("html"),s.open=function(e){var t=new o(e);return t.index}},"function"==typeof define?define([],function(){return i.run(),s}):function(){e.layer=s,i.run(),s.use("skin/layer.css")}()}(window);